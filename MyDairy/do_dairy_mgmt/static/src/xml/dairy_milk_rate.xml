<?xml version="1.0" encoding="utf-8"?>
<template xml:space="preserve">
    <t t-name="do_dairy_mgmt.dairyview">
        <div class='card-container'>
            <div class="card">
                <div class="dairy-nav">
                    <div style="text-align: left;" class="exit-kiosk">
                        <button t-on-click="exit" class="o_exit" style="border-radius: 5px;">
                            <i class="fa fa-arrow-left"></i>
                        </button>
                    </div>
                    <span style="padding-left:45%;">Rate</span>
                </div>
                <h4 t-esc="this.current_date"></h4>
                <div class="card-body d-flex flex-column p-0 p-md-4">
                    <!-- Animal rate data -->
                    <t t-foreach="this.props.action.context.milkRate" t-as="animal" t-key="animal">
                        <t t-if="this.props.action.context.milkRate[animal]">
                            <div class="animal-rate">
                                <h3><t t-esc="animal"/></h3>
                                <input id="animalInput" style="width:100px;" type="number" t-att-value="this.props.action.context.milkRate[animal]" />
                            </div>
                        </t>
                    </t>
                </div>
                <div class="next-view">
                    <button style="height: 35px;" t-on-click="startIntake" class="btn  btn-primary m-1 w-50">Start Intake      
                    </button>
                </div>
            </div>
        </div>
        <div t-if="state.view === 'IntakeFormView'">
            <div class="intake-view">
                <div>
                    <button t-on-click="exit" class="o_exit" style="border-radius: 5px;">
                        <i class="fa fa-arrow-left"></i>
                    </button>
                </div>
                <span t-esc="this.props.action.context.dairy"/>
                <span t-esc="this.current_date"/>
                <div style="display:flex;">
                    <span t-esc="this.user"/>
                    <div>
                        <a href="/web/session/logout?redirect=/web"><i class="fa fa-sign-out btn btn-danger" aria-hidden="true"></i></a>
                    </div>
                </div>
            </div>
            <View t-props="IntakeFormViewProps"/>
        </div>
    </t>
</template>
